<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather-App</title>
    <!-- bootstarp -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- AOS animation -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <!-- google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Doto:wght@100..900&family=Jersey+15&family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Playwrite+GB+S:ital,wght@0,100..400;1,100..400&family=Quicksand:wght@300..700&display=swap"
        rel="stylesheet">

    <style>
        * {
            margin: 0px;
            padding: 0px;
            box-sizing: border-box;
        }

        body {
            background-image: url('https://www.technocrazed.com/wp-content/uploads/2015/12/black-wallpaper-to-set-as-background-23.jpg');
            background-repeat: no-repeat;
            background-size: cover;
            height: 100vh;
            font-family: "Jersey 15", sans-serif;
        }

        .butn1 {
            width: 40px;
            height: 40px;
            border-radius: 30px;
        }

        .heading {
            font-family: serif;
        }
    </style>
</head>

<body>
    <div class="container-fluid">
        <h1 class="heading text-light text-center mt-5">Weather-App</h1>
        <div class="row">
            <div class="col-md-3"></div>
            <div class="col-md-8 ">

                <div class="w-75 bg-light bg-opacity-75 rounded mt-4 ">
                    <div class="d-flex p-2 align-items-center justify-content-center">
                        <input id="GetWeather" placeholder="search your city..." type="text"
                            class="form-control w-50 rounded-pill bg-light">
                        <button onclick="weatherData()" class="butn1 btn btn-outline-primary ms-2"><i class="fa-solid fa-magnifying-glass-location text-dark"></i></button>

                        <button onclick="clearData()" class="butn1 btn btn-outline-primary ms-2"><i class="fa-solid fa-circle-xmark text-dark"></i></button>
                    </div>

                    <div id="result">
                        <img class="img-fluid d-block mx-auto w-25 animate__animated animate__bounceIn"
                            src="./images/oops-404-error-with-broken-robot-concept-illustration_114360-5529-removebg-preview.png"
                            alt="no img">
                        <div class="d-flex p-3 justify-content-evenly ">
                            <div class=" col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 me-2 shadow w-25">
                                <div class="me-4 ">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-temperature-three-quarters text-danger"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Feels Like</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-droplet text-primary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Humidity</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>

                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-sun text-warning"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Sunrise</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex p-3 justify-content-evenly">
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 me-2 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-wind text-secondary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Wind</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-gauge text-dark"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Pressure</h6>
                                    <h6 class='animate__animated animate__zoomIn'> </h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i class="fa-solid fa-sun"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Sunset</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
            <div class="col-md-1"></div>
        </div>
    </div>
</body>
<script>
    const weatherData = async () => {
        console.log(GetWeather.value);

        if (GetWeather.value) {
            const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${GetWeather.value}&appid=01a655ef57588b2d80a52d5c8175be86`)
            console.log(response);
            if (response.status >= 200 && response.status < 300) {
                response.json().then((res) => {
                    console.log(res);

                    // place
                    let place = res.name
                    console.log(place);
                    // country
                    let country = res.sys.country
                    console.log(country);

                    // temperature
                    let temp = Math.floor(res.main.temp - 273.15)
                    console.log(temp);

                    // Minimum temp
                    let minTemp = Math.floor(res.main.temp_min - 273.15)
                    console.log(minTemp);

                    // maximum temp
                    let maxTemp = Math.floor(res.main.temp_max - 273.15)
                    console.log(maxTemp);

                    // feels like
                    let feels = Math.floor(res.main.feels_like - 273.15)
                    console.log(feels);

                    // date
                    let date = new Date();
                    let days = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
                    let months = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
                    let formattedDate = `${days[date.getDay()]}, ${months[date.getMonth()]} ${date.getDate()},${date.getFullYear()} at ${date.getHours()}:${date.getMinutes()} ${date.getHours() < 12 ? 'AM' : 'PM'} `;
                    console.log(formattedDate);

                    // Date and time
                    // ${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()} , ${date.getHours()}:${date.getMinutes()} ${date.getHours > 12 ? 'AM' : 'PM'}

                    // weather
                    let weather = res.weather[0].main
                    console.log(weather);

                    // humidity
                    let humidity = res.main.humidity
                    console.log(humidity);

                    // sunrise
                    let sunrise = res.sys.sunrise
                    let sunriseTime = new Date(sunrise * 1000).toLocaleTimeString("en-US", {
                        hour: "2-digit",
                        minute: "2-digit",
                        hour12: true,
                    });
                    console.log(sunriseTime);


                    // sunset
                    let sunset = res.sys.sunset
                    let sunsetTime = new Date(sunset * 1000).toLocaleTimeString("en-US", {
                        hour: "2-digit",
                        minute: "2-digit",
                        hour12: true,
                    });
                    console.log(sunsetTime);

                    // wind Speed
                    let wind = res.wind.speed
                    console.log(wind);

                    // pressure
                    let pressure = res.main.pressure
                    console.log(pressure);

                
                    let weatherEmoji
                    if(weather=='Clear'){
                        weatherEmoji='☀️'
                    }else if(weather=='Clouds'){
                        weatherEmoji='☁️'
                    }else if(weather=='Rain'){
                        weatherEmoji='🌧️'
                    }else if(weather=='Drizzle'){
                        weatherEmoji='🌦️'
                    }else if(weather=='Thunderstorm'){
                        weatherEmoji='⛈️'
                    }else if(weather=='Snow'){
                        weatherEmoji='❄️'
                    }else if(weather=='Mist'){
                        weatherEmoji='🌫️'
                    }else if(weather=='Fog'){
                        weatherEmoji='🌁'
                    }else if(weather=='Haze'){
                        weatherEmoji='🌫️'
                    }else if(weather=='Smoke'){
                        weatherEmoji='💨'
                    }else{
                        weatherEmoji='🌪️'
                    }    
                       

                    result.innerHTML = `
                        <div class="text text-center">
                            <h2 class="animate__animated animate__zoomIn">${place} , ${country}</h2>
                            <h6>${formattedDate}</h6>
                            <h2 class='animate__animated animate__fadeIn'>${weatherEmoji}</h2>
                            <h5>${weather} </h5>
                            <h2>${temp}&#176C</h2>
                            <div class="d-flex align-items-center justify-content-center">
                                <h6 class="me-3">Min: ${minTemp}&#176C</h6>
                                <h6>Max: ${maxTemp}&#176C</h6>
                            </div>
                        </div>
    
                        <div class="d-flex p-3 justify-content-evenly ">
                            <div class=" col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 me-2 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i class="fa-solid fa-temperature-three-quarters text-danger"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Feels Like</h6>
                                    <h6 class='animate__animated animate__zoomIn'>${feels}&#176C</h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i class="fa-solid fa-droplet text-primary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Humidity</h6>
                                    <h6 class='animate__animated animate__zoomIn'>${humidity} %</h6>
                                </div>
                            </div>
    
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i class="fa-solid fa-sun text-warning"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Sunrise</h6>
                                    <h6 class='animate__animated animate__zoomIn'>${sunriseTime}</h6>
                                </div>
                            </div>
                        </div>
    
                        <div class="d-flex p-3 justify-content-evenly">
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 me-2 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i class="fa-solid fa-wind text-primary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Wind</h6>
                                    <h6 class='animate__animated animate__zoomIn'>${wind} m/s</h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i class="fa-solid fa-gauge text-secondary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Pressure</h6>
                                    <h6 class='animate__animated animate__zoomIn'> ${pressure} hPa</h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i class="fa-solid fa-sun"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Sunset</h6>
                                    <h6 class='animate__animated animate__zoomIn'>${sunsetTime}</h6>
                                </div>
                            </div>
                        </div>
                `
                }).catch((err) => {
                    {
                        console.log(err);
                    }
                })

            } else {
                result.innerHTML = `
                            <img class="img-fluid d-block mx-auto w-25 animate__animated animate__bounceIn"
                            src="./images/DataNotFound.png">  
                            <div class="d-flex p-3 justify-content-evenly ">
                            <div class=" col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 me-2 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-temperature-three-quarters text-danger"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Feels Like</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-droplet text-primary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Humidity</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>

                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-sun text-warning"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Sunrise</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex p-3 justify-content-evenly">
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 me-2 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-wind text-secondary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Wind</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-gauge text-dark"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Pressure</h6>
                                    <h6 class='animate__animated animate__zoomIn'> </h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i class="fa-solid fa-sun"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Sunset</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                        </div>
            `
            }

        } else {
            // alert('Please enter a data')
            result.innerHTML = `
                        <img class="img-fluid d-block mx-auto w-25 animate__animated animate__bounceIn"
                            src="./images/oops-404-error-with-broken-robot-concept-illustration_114360-5529-removebg-preview.png"
                            alt="no img">
                        <div class="d-flex p-3 justify-content-evenly ">
                            <div class=" col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 me-2 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-temperature-three-quarters text-danger"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Feels Like</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-droplet text-primary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Humidity</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>

                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-sun text-warning"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Sunrise</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex p-3 justify-content-evenly">
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 me-2 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-wind text-secondary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Wind</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-gauge text-dark"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Pressure</h6>
                                    <h6 class='animate__animated animate__zoomIn'> </h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i class="fa-solid fa-sun"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Sunset</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                        </div>
            `
        }

       
    }

    const clearData=()=>{
        GetWeather.value=""
        result.innerHTML = `
                            <img class="img-fluid d-block mx-auto w-25 animate__animated animate__bounceIn"
                            src="./images/oops-404-error-with-broken-robot-concept-illustration_114360-5529-removebg-preview.png">  
                            <div class="d-flex p-3 justify-content-evenly ">
                            <div class=" col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 me-2 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-temperature-three-quarters text-danger"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Feels Like</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-droplet text-primary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Humidity</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>

                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-sun text-warning"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Sunrise</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex p-3 justify-content-evenly">
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 me-2 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-wind text-secondary"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Wind</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i
                                            class="fa-solid fa-gauge text-dark"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Pressure</h6>
                                    <h6 class='animate__animated animate__zoomIn'> </h6>
                                </div>
                            </div>
                            <div class="col-md-6 d-flex rounded p-3 bg-secondary bg-opacity-25 shadow w-25">
                                <div class="me-4">
                                    <h2 class='animate__animated animate__bounceIn'><i class="fa-solid fa-sun"></i></h2>
                                </div>
                                <div>
                                    <h6 class='animate__animated animate__zoomIn'>Sunset</h6>
                                    <h6 class='animate__animated animate__zoomIn'></h6>
                                </div>
                            </div>
                        </div>
            `
    }
    
</script>

</html>